
var FUEL=5, REPAIR=6;

var MINTHETA = Math.PI/80;


var Shot = function(placeX, placeY, angle, team, includingWorld) {
    var cir = new Circle(2,
    {
      x: placeX + includingWorld.canvas.width/2 + includingWorld.viewX,
      y: placeY + includingWorld.canvas.height/2 + includingWorld.viewY,
      fill: '#00F'
    });
    this.x = placeX;
    this.y = placeY;
    this.team = team;
    this.angle = (angle + (0.25 - Math.random()/2)) % Math.PI;
    this.gfx = cir;
    this.includingWorld = includingWorld;
    this.includingWorld.add(this);
}
Shot.prototype = {

}


var Planet = function(placeX, placeY, name, features, includingWorld) {
    var cir = new Circle(18,
    {
      x: placeX + includingWorld.wCanvas.width/2 + includingWorld.viewX,
      y: placeY + includingWorld.wCanvas.height/2 + includingWorld.viewY,
      fill: 'none',
      stroke: '#FF0'
    });
    var text = new TextNode(name, {y:cir.radius+15,textAlign:"center",fill:'yellow',scale:1.2,font:"bold 9px courier"});
    cir.append(text);
    
    if(features.indexOf(FUEL)!=-1) {
        var tank = new Polygon([0,0,5,0,8,2,8,13,0,13], {x:cir.radius-12,y:-7});
        tank.append(new Polygon([2,3,5,6]));
        tank.append(new Polygon([2,6,5,3]));
        cir.append(tank);
    }
    if(REPAIR in features) {
        //TODO: draw wrench
    }
    
    this.x = placeX;
    this.y = placeY;
    this.gfx = cir;
    this.includingWorld = includingWorld;
    console.log("finished building Planet");
    this.includingWorld.addPlanet(this);
}
Planet.prototype = {

}
