<html><head>
<script src="lib/cake.js"></script>
<script src="lib/jquery.min.js"></script> <!-- 1.7.1 TODO: replace with jQuip, we use it only for event bindings -->
<script src="/socket.io/socket.io.js"></script>
<script src="lib/jspack.js"></script>
<script src="lib/images.js"></script>
<script src="lib/classes.js"></script>
<script src="lib/outfitting.js"></script>
<script src="lib/world.js"></script>
<script src="lib/ui.js"></script>
<script src="lib/ship.js"></script>
<script src="lib/net.js"></script>
<script language="javascript">

// player ship object
player = {};
//state = SERVER_CHOICE, OUTFIT, ACTIVE

function initWorld() {
    // make canvas and world
    rightCanvas = new Canvas(document.getElementById("rightCanvas"), 5, 5, {
        fill: 'black'
    });
    leftCanvas = new Canvas(document.getElementById("leftCanvas"), 500, 500, {
        fill: 'black'
    });

    outfitting.init(leftCanvas);
    world.init(leftCanvas, rightCanvas);
    ui.init(leftCanvas);

    imageLib.loadAll();

    net = new NetrekConnection("localhost", 8080, function() {
        net.connectToServer("continuum.us.netrek.org",2592,function(){
            net.sendArray(CP_LOGIN.data(0,"guest","","hello world"));
            outfitting.draw();
        })
    });
}

</script>
</head>
<body onload="initWorld()">
<div id="canvasland" style="margin-left:auto; margin-right:auto; width: 1001px;">
  <div id="leftCanvas" style="float:left;"></div>
  <div id="rightCanvas" style="float:left; margin-left:1px;"></div>
</div>

<div id="menu"></div>
</body>
</html>
